# buc-oauth

v 1.0.2

OAuth of [buc_client](http://web.npm.alibaba-inc.com/package/buc-client)
@ES5 version

## Usage
```sheel
$ npm install -g tnpm
$ tnpm install @ali/buc-oauth
```
```javascript
var OAuthClient = require('@ali/buc-oauth');

//one-request buc appcode
var appcode_daily = 'your daily buc appcode';
var appcode_online = 'your online buc appcode';

var oauthclient = new OAuthClient({
  appcode: appcode_daily,
  ssoURL: 'https://login-test.alibaba-inc.com'
});

oauthclient.login('username', 'password', function (err, res) {
	console.log(err, res)
	/**
	 * @example
	 *
	 { bucid: 0,
	  login: 'hongru.chenhr',
	  email: 'hongru.chenhr@alibaba-inc.com',
	  name: '岑安',
	  html_url: 'https://work.alibaba-inc.com/work/u/035173',
	  avatar_url: 'https://work.alibaba-inc.com/photo/035173.220x220.jpg',
	  im_url: 'https://work.alibaba-inc.com/new_amos_im_alisoft_com/msg.aw?v=2&uid=%E5%B2%91%E5%AE%89&site=cntaobao&charset=utf-8&s=1',
	  id: 0,
	  emailPrefix: 'hongru.chenhr',
	  emailAddr: 'hongru.chenhr@alibaba-inc.com',
	  empId: '035173',
	  nickNameCn: '岑安',
	  oauth: 
	   { DisplayName: '岑安',
	     ErrorCode: 0,
	     AccessToken: '3481b2d1***********70dcf4d7e8f2',
	     RefreshToken: '62ac48eb***********987a91b8abe7',
	     Email: 'hongru.chenhr@alibaba-inc.com',
	     SecretId: '4f7cddfc**************f652f0fd5df9',
	     AppUrl: 'one-request',
	     WorkId: '035173',
	     DomainUser: 'TAOBAO-HZ\\cenan.chr',
	     WangWang: '5bKR5a6J\r\n',
	     SecretKey: '*******************=\r\n',
	     SecretIV: '*******************==\r\n',
	     IsAccess: true,
	     accessToken: '3481b2d1****************70dcf4d7e8f2',
	     refreshToken: '62ac48eb***************987a91b8abe7' } }
	 */
});
```
## buc appcode 申请

- 线上： https://login.alibaba-inc.com/apply.htm
- 日常： https://login-test.alibaba-inc.com/apply.htm
